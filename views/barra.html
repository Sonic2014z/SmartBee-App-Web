<html lang="es">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Configuración de perfil - SMARTBEE
  </title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-thumb {
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
    }
  </style>
 </head>
 <body class="bg-[#FFF6E8] font-sans text-[#7F4F00] min-h-screen flex flex-col">
  <header class="bg-[#C97800] flex justify-between items-center px-4 sm:px-6 md:px-8 h-12 text-white text-sm font-semibold select-none relative">
   <button aria-label="Abrir menú" class="sm:hidden z-30" id="menu-btn" type="button">
    <i class="fas fa-bars text-lg"></i>
   </button>
   <div class="hidden sm:flex items-center space-x-1 font-normal">
    <span>Colmenas Inteligentes</span>
   </div>
   <div class="flex items-center space-x-2 font-bold text-sm cursor-default">
    <span>Apicultor</span>
    <i class="fas fa-user-circle text-lg"></i>
   </div>
  </header>
  <div class="flex flex-1 min-h-0 relative">
   <nav class="bg-[#C97800] w-44 flex flex-col text-white text-xs select-none fixed inset-y-0 left-0 transform -translate-x-full sm:translate-x-0 transition-transform duration-300 ease-in-out z-20" id="sidebar">
    <div class="font-bold text-sm px-4 py-3 border-b border-[#B36E00] flex justify-between items-center">
     <span>SMARTBEE</span>
     <button aria-label="Cerrar menú" class="sm:hidden text-white" id="menu-close" type="button">
      <i class="fas fa-times"></i>
     </button>
    </div>
    <a class="flex items-center gap-2 px-4 py-3 border-b border-[#B36E00] hover:bg-[#b36e00]/50" href="/panelapicultor">
     <i class="fas fa-th-large"></i>
     <span>Panel de Control</span>
    </a>
    <a class="flex items-center gap-2 px-4 py-3 bg-[#B36E00] cursor-default" href="#">
     <i class="fas fa-chart-bar"></i>
     <span>Vista Histórica</span>
    </a>
    <a class="flex items-center gap-2 px-4 py-3 border-b border-[#B36E00] hover:bg-[#b36e00]/50" href="#">
     <i class="fas fa-bell"></i>
     <span>Alertas</span>
    </a>
    <a class="flex items-center gap-2 px-4 py-3 border-b border-[#B36E00] hover:bg-[#b36e00]/50" href="#">
     <i class="fas fa-cog"></i>
     <span>Configuración</span>
    </a>
   </nav>

   
   <main class="flex-1 p-6 md:p-8 overflow-auto ml-0 sm:ml-44">
     <h2 class="text-lg font-bold mb-4">Histórico de Temperatura y Humedad</h2>
     <div class="bg-white rounded-2xl shadow p-4 w-full h-64 sm:h-80 lg:h-96">
       <canvas id="lineChart" class="w-full h-full"></canvas>
     </div>

     
     <div class="mt-4 flex flex-wrap gap-2">
       <button id="btn-dia" class="px-4 py-2 bg-[#C97800] text-white rounded-lg hover:bg-[#b36e00]">Por día</button>
       <button id="btn-semana" class="px-4 py-2 bg-[#C97800] text-white rounded-lg hover:bg-[#b36e00]">Por semana</button>
       <button id="btn-mes" class="px-4 py-2 bg-[#C97800] text-white rounded-lg hover:bg-[#b36e00]">Por mes</button>
       <button id="btn-anio" class="px-4 py-2 bg-[#C97800] text-white rounded-lg hover:bg-[#b36e00]">Por año</button>
     </div>
   </main>
  </div>

  <script>
   const menuBtn = document.getElementById('menu-btn');
   const menuClose = document.getElementById('menu-close');
   const sidebar = document.getElementById('sidebar');

   menuBtn.addEventListener('click', () => {
     sidebar.classList.remove('-translate-x-full');
   });

   menuClose.addEventListener('click', () => {
     sidebar.classList.add('-translate-x-full');
   });

   window.addEventListener('click', (e) => {
     if (!sidebar.contains(e.target) && !menuBtn.contains(e.target) && window.innerWidth < 640) {
       sidebar.classList.add('-translate-x-full');
     }
   });

   const dataOptions = {
     dia: {
       labels: ['11 de Agosto', '12 de Agosto', '13 de Agosto', '14 de Agosto', '15 de Agosto', '16 de Agosto'],
       temp: [20, 22, 25, 27, 24, 21],
       hum: [70, 68, 65, 63, 67, 72]
     },
     semana: {
       labels: ['Semana 03/08', 'Semana 10/08', 'Semana 17/08', 'Semana 24/08', 'Semana 31/08', 'Semana 07/09', 'Semana 14/09'],
       temp: [22, 24, 23, 26, 25, 27, 28],
       hum: [65, 60, 62, 58, 61, 63, 59]
     },
     mes: {
       labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
       temp: [23, 25, 26, 24, 27, 29, 30, 28, 26, 25, 24, 22],
       hum: [64, 62, 60, 65, 63, 61, 59, 58, 57, 60, 62, 64, 66]
     },
     anio: {
       labels: ['2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
       temp: [20, 21, 23, 25, 27, 29, 30, 28, 26, 24, 22, 21],
       hum: [70, 68, 65, 63, 60, 58, 57, 59, 62, 65, 67, 69]
     }
   };

   const ctx = document.getElementById('lineChart').getContext('2d');
   let chart = new Chart(ctx, {
     type: 'line',
     data: {
       labels: dataOptions.semana.labels,
       datasets: [
         {
           label: 'Temperatura (°C)',
           data: dataOptions.semana.temp,
           borderColor: '#C97800',
           backgroundColor: 'rgba(201,120,0,0.2)',
           fill: false,
           tension: 0.3,
           pointRadius: 4,
           pointBackgroundColor: '#7F4F00'
         },
         {
           label: 'Humedad (%)',
           data: dataOptions.semana.hum,
           borderColor: '#0077B6',
           backgroundColor: 'rgba(0,119,182,0.2)',
           fill: false,
           tension: 0.3,
           pointRadius: 4,
           pointBackgroundColor: '#023E8A'
         }
       ]
     },
     options: {
       responsive: true,
       maintainAspectRatio: false,
       plugins: { legend: { position: 'top' } },
       scales: { y: { beginAtZero: true } }
     }
   });

   function updateChart(tipo) {
     chart.data.labels = dataOptions[tipo].labels;
     chart.data.datasets[0].data = dataOptions[tipo].temp;
     chart.data.datasets[1].data = dataOptions[tipo].hum;
     chart.update();
   }


   document.getElementById('btn-dia').addEventListener('click', () => updateChart('dia'));
   document.getElementById('btn-semana').addEventListener('click', () => updateChart('semana'));
   document.getElementById('btn-mes').addEventListener('click', () => updateChart('mes'));
   document.getElementById('btn-anio').addEventListener('click', () => updateChart('anio'));
  </script>
 </body>
</html>
